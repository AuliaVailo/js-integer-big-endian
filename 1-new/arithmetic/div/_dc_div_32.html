<!DOCTYPE html><html lang="en"><head><title>1-new/arithmetic/div/_dc_div_32</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../../../"><meta name="groc-document-path" content="1-new/arithmetic/div/_dc_div_32"><meta name="groc-project-path" content="js/src/1-new/arithmetic/div/_dc_div_32.js"><meta name="groc-github-url" content="https://github.com/aureooms/js-integer-big-endian"><link rel="stylesheet" type="text/css" media="all" href="../../../assets/style.css"><script type="text/javascript" src="../../../assets/behavior.js"></script><body><div id="meta"><div class="file-path"><a href="https://github.com/aureooms/js-integer-big-endian/blob/master/js/src/1-new/arithmetic/div/_dc_div_32.js">js/src/1-new/arithmetic/div/_dc_div_32.js</a></div></div><div id="document"><div class="segment"></div><div class="segment"><div class="comments "><div class="wrapper"><h1 id="algorithm-34-divide-and-conquer-division-3-by-2">Algorithm 3.4 Divide-and-conquer division (3 by 2)</h1>
<h2 id="input">Input</h2>
<p> Two nonnegative integers A and B,
 such that A &lt; β^n B and β^{2n} / 2 ≤ B &lt; β^{2n}.
 n must be even.</p>
<pre><code>               --------                 -----
              |  |  |  |               |  |  |
               --------                 -----</code></pre>
<h2 id="output">Output</h2>
<p> The quotient floor( A/B ) and the remainder A mod B.</p>
<h2 id="complexity">Complexity</h2>
<p> T&#39;(n) ≤ T(n) + M(n) + Ln</p></div></div><div class="code"><div class="wrapper"><span class="hljs-keyword">const</span> _dc_div_32 = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"> r , a , ai , aj , b , bi , bj , c , ci , cj </span>) </span>{</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><ol>
<li>Let A = A_2 β^{2n} + A_1 β^n + A_0 and
B = B_1 β^{n} + B_0,
with 0 ≤ A_i &lt; β^n and 0 ≤ B_i &lt; β^n.</li>
</ol></div></div><div class="code"><div class="wrapper">	<span class="hljs-keyword">const</span> k = bj - bi ;
	<span class="hljs-keyword">const</span> n = k &gt;&gt;&gt; <span class="hljs-number">1</span> ;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><ol>
<li>If A_2 &lt; B_1, compute Q = floor( ( A_2 β^n + A_1 ) / B_1 ) with
remainder R_1 using algorithm 3.3;</li>
</ol></div></div><div class="code"><div class="wrapper">	<span class="hljs-keyword">if</span> ( _lt( a , ai , ai + n , b , bi , bi + n ) ) {
		_dc_div_21( r , a , ai , aj - n , b , bi , bi + n , c , ci + n , cj ) ;
	}</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>   otherwise let Q = β^n - 1, and R_1 = ( A_2 - B_1 ) β^n + A_1 + B_1
   (note in this case that A_2 = B_1)</p></div></div><div class="code"><div class="wrapper">	<span class="hljs-keyword">else</span> {
		_fill( c , cj - n , cj , r - <span class="hljs-number">1</span> ) ;
		_iadd( r , a , ai , aj - n , b , bi , bi + n  ) ;
		_isub( r , a , ai , ai + n , b , bi , bi + n  ) ;
	}</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><ol>
<li>R &lt;- R_1 β^n + A_0 - Q*B_0</li>
</ol></div></div><div class="code"><div class="wrapper">	<span class="hljs-keyword">const</span> zi = <span class="hljs-number">0</span> ;
	<span class="hljs-keyword">const</span> zj = n &lt;&lt; <span class="hljs-number">1</span> ;
	<span class="hljs-keyword">const</span> z = _zeros( zj ) ;
	_mul( r , c , cj - n , cj , b , bi + n , bj , z , zi , zj ) ;
	_isub( r , a , ai , aj , z , zi , zj ) ;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><ol>
<li>if R &lt; 0 , R &lt;- R + B and Q &lt;- Q - 1</li>
</ol></div></div><div class="code"><div class="wrapper">	<span class="hljs-keyword">if</span> ( a[ai] === <span class="hljs-number">0</span> ) <span class="hljs-keyword">return</span> ;
	_iadd( r , a , ai , aj , b , bi , bj ) ;
	_decrement( r , c , cj - n , cj ) ;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><ol>
<li>if R &lt; 0 , R &lt;- R + B and Q &lt;- Q - 1</li>
</ol></div></div><div class="code"><div class="wrapper">	<span class="hljs-keyword">if</span> ( a[ai] === <span class="hljs-number">0</span> ) <span class="hljs-keyword">return</span> ;
	_iadd( r , a , ai , aj , b , bi , bj ) ;
	_decrement( r , c , cj - n , cj ) ;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><ol>
<li>Return Q and R</li>
</ol></div></div><div class="code"><div class="wrapper">} ;

exports._dc_div_32 = _dc_div_32 ;</div></div></div></div></body></html>