<!DOCTYPE html><html lang="en"><head><title>1-new/arithmetic/div/_schoolbook_div</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../../../"><meta name="groc-document-path" content="1-new/arithmetic/div/_schoolbook_div"><meta name="groc-project-path" content="js/src/1-new/arithmetic/div/_schoolbook_div.js"><meta name="groc-github-url" content="https://github.com/aureooms/js-integer-big-endian"><link rel="stylesheet" type="text/css" media="all" href="../../../assets/style.css"><script type="text/javascript" src="../../../assets/behavior.js"></script><body><div id="meta"><div class="file-path"><a href="https://github.com/aureooms/js-integer-big-endian/blob/master/js/src/1-new/arithmetic/div/_schoolbook_div.js">js/src/1-new/arithmetic/div/_schoolbook_div.js</a></div></div><div id="document"><div class="segment"></div><div class="segment"><div class="comments "><div class="wrapper"><h2 id="input">Input</h2>
<p> Two integers A and B such that r^(m-1) &lt;= A &lt; r^m and (r^n)/2 &lt;= B &lt; r^(n).</p>
<h2 id="output">Output</h2>
<p> The quotient floor( A/B ) and the remainder A mod B.</p></div></div><div class="code"><div class="wrapper"><span class="hljs-keyword">const</span> _schoolbook_div = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"> r , a , ai , aj , b , bi , bj , q , qi </span>) </span>{

	<span class="hljs-keyword">const</span> m = aj - ai ;
	<span class="hljs-keyword">const</span> n = bj - bi ;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>If m &lt; n, return the quotient 0 and the remainder A.</p></div></div><div class="code"><div class="wrapper">	<span class="hljs-keyword">if</span> ( m &lt; n ) <span class="hljs-keyword">return</span> ;

	<span class="hljs-keyword">if</span> ( m === n ) {</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>If m = n, then if A &lt; B, return the quotient 0 and the remainder A;</p></div></div><div class="code"><div class="wrapper">		<span class="hljs-keyword">if</span> ( _lt( a , ai , aj , b , bi , bj ) ) <span class="hljs-keyword">return</span> ;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>if A ≥ B, return the quotient 1 and the remainder A - B.</p></div></div><div class="code"><div class="wrapper">		++q[qi+m-<span class="hljs-number">1</span>] ;
		_isub( r , a , ai , aj , b , bi , bj ) ;
		<span class="hljs-keyword">return</span> ;

	}</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>If m = n + 1, compute the quotient and remainder of A/B
using algorithm 3.1 and return them.</p></div></div><div class="code"><div class="wrapper">	<span class="hljs-keyword">if</span> ( m === n + <span class="hljs-number">1</span> ) <span class="hljs-keyword">return</span> _schoolbook_div_subroutine( r , a , ai , aj , b , bi , bj , q , qi ) ;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><ol>
<li>A&#39; &lt;- A/β^{m-n-1} and s &lt;- A mod β^{m-n-1}</li>
</ol></div></div><div class="code"><div class="wrapper">	<span class="hljs-keyword">const</span> _aj = ai + n + <span class="hljs-number">1</span> ;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><ol>
<li>Compute the quotient q&#39; and the remainder r&#39; of A&#39;/B using algorithm 3.1.</li>
</ol></div></div><div class="code"><div class="wrapper">	_schoolbook_div_subroutine( r , a , ai , _aj , b , bi , bj , q , qi ) ;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><ol>
<li>Compute the quotient q and remainder r of( β^{m-n-1} r&#39; + s ) / B recursively.</li>
</ol></div></div><div class="code"><div class="wrapper">	<span class="hljs-keyword">const</span> ak = _trim_positive( a , ai , _aj ) ;
	_schoolbook_div( r , a , ak , aj , b , bi , bj , q , qi + ak - ai ) ;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><ol>
<li>Return the quotient Q = β^{m-n-1} q&#39; + q and remainder R = r</li>
</ol></div></div><div class="code"><div class="wrapper">} ;

exports._schoolbook_div = _schoolbook_div ;</div></div></div></div></body></html>