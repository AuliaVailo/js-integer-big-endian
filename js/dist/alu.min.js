!function(n){"use strict";var t=function(n){return function(t,r,o,f,i,u,e,a,c){for(var v,d=0;--u>=i;)--o,--c,v=t[o]+f[u]+d,e[c]=v%n,d=v/n>=1;for(;--o>=r;)--c,v=t[o]+d,e[c]=v%n,d=v/n>=1;--c>=a&&(e[c]=+d)}},r=function(n){return function(t,r,o,f,i,u,e,a,c){for(var v,d=0;u>i;)v=t[r]+f[i]+d,e[a]=v%n,d=v/n>=1,++r,++i,++a;for(;o>r;)v=t[r]+d,e[a]=v%n,d=v/n>=1,++r,++a;c>a&&(e[a]=+d)}};n.badd_t=t,n.ladd_t=r;var o=function(n,t,r,o,f,i,u){var e=function(u,e,a,c,v,d,m,s,h){var w,l,p,b,x,_,M,g,y,j,k,N=a-e,S=d-v,q=h-s;0>=N||0>=S||0>=q||(1===N?(w=u[e]*c[v],m[h-1]=w%i,q>1&&(m[h-2]=(w-m[h-1])/i)):(_=Math.ceil(N/2),M=N+S,g=2*_,y=M-g,j=a-_,k=Math.max(v,d-_),p=new o(_+1),b=new o(_+1),x=new o(g+1),l=new o(y),w=new o(g),r(u,e,j,c,v,k,l,0,y),r(u,j,a,c,k,d,w,0,g),n(u,j,a,u,e,j,p,0,_+1),n(c,v,k,c,k,d,b,0,_+1),r(p,1,_+1,b,1,_+1,x,1,g+1),f(l,0,y,m,h-M),f(w,0,g,m,h-g),p[0]&&n(x,0,g+1-_,b,1,_+1,x,0,g+1-_),b[0]&&n(x,0,g+1-_,p,1,_+1,x,0,g+1-_),p[0]&&b[0]&&n(x,0,g-_,p,0,1,x,0,g-_),n(m,s,h-_,x,0,g+1,m,s,h-_),t(m,s,h-_,l,0,y,m,s,h-_),t(m,s,h-_,w,0,g,m,s,h-_)))};return void 0!==u&&(e=u(e)),void 0===r&&(r=e),e};n.bkaratsuba_t=o;var f=function(n,t,r,o){if(n>=t){if(t>36)throw"t > 36 not implemented";for(var f=0;n>=t&&!(n%t);)n/=t,++f;if(1!==n)throw"log(t) does not divide log(f) not implemented";var i=o(f);return function(n,o,f){var u=[];return r(o,f,function(r){u.push(i(Number(+n[r]).toString(t)))}),u.join("")}}throw"t > f not implemented"};n.stringify_t=f;var i=function(n){return function(t,r,o,f,i,u,e,a,c){for(var v,d=0;--u>=i;)--o,--c,v=d,d=t[o]<f[u]+v,e[c]=t[o]-f[u]+(d*n-v);for(;--o>=r;)--c,v=d,d=t[o]<v,e[c]=t[o]+(d*n-v);if(d)for(;--c>=a;)e[a]=n-1}},u=function(n){return function(t,r,o,f,i,u,e,a,c){for(var v,d=0;u>i;)v=d,d=t[r]<f[i]+v,e[a]=t[r]-f[i]+(d*n-v),++r,++i,++a;for(;o>r;)v=d,d=t[r]<v,e[a]=t[r]+(d*n-v),++r,++a;if(d)for(;c>a;)e[a]=n-1,++a}};n.bsub_t=i,n.lsub_t=u;var e=function(n){return function(t,r,o,f,i,u,e,a,c){var v,d,m;return a=Math.max(0,a),m=c-a,r=Math.max(0,r,o-m),i=Math.max(0,i,u-m),v=o-r,d=u-i,d>v?n(f,i,u,t,r,o,e,a,c):n(t,r,o,f,i,u,e,a,c)}},a=function(n){return function(t,r,o,f,i){return 0>r&&(i-=r,r=0),0>i&&(r-=i,i=0),n(t,r,o,f,i)}};n.wrapbin=e,n.wrapmov=a}("undefined"==typeof exports?this.alu={}:exports);