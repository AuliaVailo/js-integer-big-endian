'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports._mul = _mul;

var _core = require('../core');

/**
 * |A| >= |B|, |C| >= |A| + |B|.
 * TODO check whether this condition is actually needed
 *      if it is then fix @aureooms/js-integer
 *      otherwise document properly and fix conditions
 * TODO use schoolbook mul if n = O(log m)
 */

function _mul(r, a, ai, aj, b, bi, bj, c, ci, cj) {

	var m = aj - ai;
	var n = bj - bi;

	if (m === 1) return (0, _core._mul_limb)(r, a[0], b, bi, bj, c, ci, cj);

	if (n === 1) return (0, _core._mul_limb)(r, b[0], a, ai, aj, c, ci, cj);

	//if ( m === n ) {

	//if ( a === b && ai === bi ) return _sqr( r , a , ai , aj , c , ci , cj ) ;

	//return _mul_n( r , a , ai , aj , b , bi , bj , c , ci , cj ) ;

	//}

	if (n < _core.THRESHOLD_MUL_TOOM22) {
		return (0, _core._schoolbook_mul)(r, a, ai, aj, b, bi, bj, c, ci, cj);
	}

	return (0, _core._karatsuba)(r, a, ai, aj, b, bi, bj, c, ci, cj);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9hcGkvX211bC5qcyJdLCJuYW1lcyI6WyJfbXVsIiwiciIsImEiLCJhaSIsImFqIiwiYiIsImJpIiwiYmoiLCJjIiwiY2kiLCJjaiIsIm0iLCJuIl0sIm1hcHBpbmdzIjoiOzs7OztRQVdnQkEsSSxHQUFBQSxJOztBQVhoQjs7QUFHQTs7Ozs7Ozs7QUFRTyxTQUFTQSxJQUFULENBQWdCQyxDQUFoQixFQUFvQkMsQ0FBcEIsRUFBd0JDLEVBQXhCLEVBQTZCQyxFQUE3QixFQUFrQ0MsQ0FBbEMsRUFBc0NDLEVBQXRDLEVBQTJDQyxFQUEzQyxFQUFnREMsQ0FBaEQsRUFBb0RDLEVBQXBELEVBQXlEQyxFQUF6RCxFQUE4RDs7QUFFcEUsS0FBTUMsSUFBSVAsS0FBS0QsRUFBZjtBQUNBLEtBQU1TLElBQUlMLEtBQUtELEVBQWY7O0FBRUEsS0FBS0ssTUFBTSxDQUFYLEVBQWUsT0FBTyxxQkFBV1YsQ0FBWCxFQUFlQyxFQUFFLENBQUYsQ0FBZixFQUFzQkcsQ0FBdEIsRUFBMEJDLEVBQTFCLEVBQStCQyxFQUEvQixFQUFvQ0MsQ0FBcEMsRUFBd0NDLEVBQXhDLEVBQTZDQyxFQUE3QyxDQUFQOztBQUVmLEtBQUtFLE1BQU0sQ0FBWCxFQUFlLE9BQU8scUJBQVdYLENBQVgsRUFBZUksRUFBRSxDQUFGLENBQWYsRUFBc0JILENBQXRCLEVBQTBCQyxFQUExQixFQUErQkMsRUFBL0IsRUFBb0NJLENBQXBDLEVBQXdDQyxFQUF4QyxFQUE2Q0MsRUFBN0MsQ0FBUDs7QUFFZjs7QUFFQzs7QUFFQTs7QUFFRDs7QUFFQSxLQUFLRSw4QkFBTCxFQUFnQztBQUMvQixTQUFPLDJCQUFpQlgsQ0FBakIsRUFBcUJDLENBQXJCLEVBQXlCQyxFQUF6QixFQUE4QkMsRUFBOUIsRUFBbUNDLENBQW5DLEVBQXVDQyxFQUF2QyxFQUE0Q0MsRUFBNUMsRUFBaURDLENBQWpELEVBQXFEQyxFQUFyRCxFQUEwREMsRUFBMUQsQ0FBUDtBQUNBOztBQUVELFFBQU8sc0JBQVlULENBQVosRUFBZ0JDLENBQWhCLEVBQW9CQyxFQUFwQixFQUF5QkMsRUFBekIsRUFBOEJDLENBQTlCLEVBQWtDQyxFQUFsQyxFQUF1Q0MsRUFBdkMsRUFBNENDLENBQTVDLEVBQWdEQyxFQUFoRCxFQUFxREMsRUFBckQsQ0FBUDtBQUdBIiwiZmlsZSI6Il9tdWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfbXVsX2xpbWIgLCBfc2Nob29sYm9va19tdWwgLCBfa2FyYXRzdWJhIH0gZnJvbSAnLi4vY29yZScgO1xuaW1wb3J0IHsgVEhSRVNIT0xEX01VTF9UT09NMjIgfSBmcm9tICcuLi9jb3JlJyA7XG5cbi8qKlxuICogfEF8ID49IHxCfCwgfEN8ID49IHxBfCArIHxCfC5cbiAqIFRPRE8gY2hlY2sgd2hldGhlciB0aGlzIGNvbmRpdGlvbiBpcyBhY3R1YWxseSBuZWVkZWRcbiAqICAgICAgaWYgaXQgaXMgdGhlbiBmaXggQGF1cmVvb21zL2pzLWludGVnZXJcbiAqICAgICAgb3RoZXJ3aXNlIGRvY3VtZW50IHByb3Blcmx5IGFuZCBmaXggY29uZGl0aW9uc1xuICogVE9ETyB1c2Ugc2Nob29sYm9vayBtdWwgaWYgbiA9IE8obG9nIG0pXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIF9tdWwgKCByICwgYSAsIGFpICwgYWogLCBiICwgYmkgLCBiaiAsIGMgLCBjaSAsIGNqICkge1xuXG5cdGNvbnN0IG0gPSBhaiAtIGFpIDtcblx0Y29uc3QgbiA9IGJqIC0gYmkgO1xuXG5cdGlmICggbSA9PT0gMSApIHJldHVybiBfbXVsX2xpbWIoIHIgLCBhWzBdICwgYiAsIGJpICwgYmogLCBjICwgY2kgLCBjaiApIDtcblxuXHRpZiAoIG4gPT09IDEgKSByZXR1cm4gX211bF9saW1iKCByICwgYlswXSAsIGEgLCBhaSAsIGFqICwgYyAsIGNpICwgY2ogKSA7XG5cblx0Ly9pZiAoIG0gPT09IG4gKSB7XG5cblx0XHQvL2lmICggYSA9PT0gYiAmJiBhaSA9PT0gYmkgKSByZXR1cm4gX3NxciggciAsIGEgLCBhaSAsIGFqICwgYyAsIGNpICwgY2ogKSA7XG5cblx0XHQvL3JldHVybiBfbXVsX24oIHIgLCBhICwgYWkgLCBhaiAsIGIgLCBiaSAsIGJqICwgYyAsIGNpICwgY2ogKSA7XG5cblx0Ly99XG5cblx0aWYgKCBuIDwgVEhSRVNIT0xEX01VTF9UT09NMjIgKSB7XG5cdFx0cmV0dXJuIF9zY2hvb2xib29rX211bCggciAsIGEgLCBhaSAsIGFqICwgYiAsIGJpICwgYmogLCBjICwgY2kgLCBjaiApIDtcblx0fVxuXG5cdHJldHVybiBfa2FyYXRzdWJhKCByICwgYSAsIGFpICwgYWogLCBiICwgYmkgLCBiaiAsIGMgLCBjaSAsIGNqICkgO1xuXG5cbn1cbiJdfQ==