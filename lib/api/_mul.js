'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports._mul = _mul;

var _core = require('../core');

/**
 * |A| >= |B| >= 1, |C| >= |A| + |B|.
 * TODO check whether this condition is actually needed
 *      if it is then fix @aureooms/js-integer
 *      otherwise document properly and fix conditions
 * TODO use schoolbook mul if n = O(log m)
 */

function _mul(r, a, ai, aj, b, bi, bj, c, ci, cj) {

	var m = aj - ai;
	var n = bj - bi;

	// TODO then |B| = 1 and could be faster
	if (m === 1) return (0, _core._mul_limb)(r, a[0], b, bi, bj, c, ci, cj);

	if (n === 1) return (0, _core._mul_limb)(r, b[0], a, ai, aj, c, ci, cj);

	//if ( m === n ) {

	//if ( a === b && ai === bi ) return _sqr( r , a , ai , aj , c , ci , cj ) ;

	//return _mul_n( r , a , ai , aj , b , bi , bj , c , ci , cj ) ;

	//}

	if (n < _core.THRESHOLD_MUL_TOOM22) {
		return (0, _core._schoolbook_mul)(r, a, ai, aj, b, bi, bj, c, ci, cj);
	}

	return (0, _core._karatsuba)(r, a, ai, aj, b, bi, bj, c, ci, cj);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9hcGkvX211bC5qcyJdLCJuYW1lcyI6WyJfbXVsIiwiciIsImEiLCJhaSIsImFqIiwiYiIsImJpIiwiYmoiLCJjIiwiY2kiLCJjaiIsIm0iLCJuIl0sIm1hcHBpbmdzIjoiOzs7OztRQVdnQkEsSSxHQUFBQSxJOztBQVhoQjs7QUFHQTs7Ozs7Ozs7QUFRTyxTQUFTQSxJQUFULENBQWdCQyxDQUFoQixFQUFvQkMsQ0FBcEIsRUFBd0JDLEVBQXhCLEVBQTZCQyxFQUE3QixFQUFrQ0MsQ0FBbEMsRUFBc0NDLEVBQXRDLEVBQTJDQyxFQUEzQyxFQUFnREMsQ0FBaEQsRUFBb0RDLEVBQXBELEVBQXlEQyxFQUF6RCxFQUE4RDs7QUFFcEUsS0FBTUMsSUFBSVAsS0FBS0QsRUFBZjtBQUNBLEtBQU1TLElBQUlMLEtBQUtELEVBQWY7O0FBRUE7QUFDQSxLQUFLSyxNQUFNLENBQVgsRUFBZSxPQUFPLHFCQUFXVixDQUFYLEVBQWVDLEVBQUUsQ0FBRixDQUFmLEVBQXNCRyxDQUF0QixFQUEwQkMsRUFBMUIsRUFBK0JDLEVBQS9CLEVBQW9DQyxDQUFwQyxFQUF3Q0MsRUFBeEMsRUFBNkNDLEVBQTdDLENBQVA7O0FBRWYsS0FBS0UsTUFBTSxDQUFYLEVBQWUsT0FBTyxxQkFBV1gsQ0FBWCxFQUFlSSxFQUFFLENBQUYsQ0FBZixFQUFzQkgsQ0FBdEIsRUFBMEJDLEVBQTFCLEVBQStCQyxFQUEvQixFQUFvQ0ksQ0FBcEMsRUFBd0NDLEVBQXhDLEVBQTZDQyxFQUE3QyxDQUFQOztBQUVmOztBQUVDOztBQUVBOztBQUVEOztBQUVBLEtBQUtFLDhCQUFMLEVBQWdDO0FBQy9CLFNBQU8sMkJBQWlCWCxDQUFqQixFQUFxQkMsQ0FBckIsRUFBeUJDLEVBQXpCLEVBQThCQyxFQUE5QixFQUFtQ0MsQ0FBbkMsRUFBdUNDLEVBQXZDLEVBQTRDQyxFQUE1QyxFQUFpREMsQ0FBakQsRUFBcURDLEVBQXJELEVBQTBEQyxFQUExRCxDQUFQO0FBQ0E7O0FBRUQsUUFBTyxzQkFBWVQsQ0FBWixFQUFnQkMsQ0FBaEIsRUFBb0JDLEVBQXBCLEVBQXlCQyxFQUF6QixFQUE4QkMsQ0FBOUIsRUFBa0NDLEVBQWxDLEVBQXVDQyxFQUF2QyxFQUE0Q0MsQ0FBNUMsRUFBZ0RDLEVBQWhELEVBQXFEQyxFQUFyRCxDQUFQO0FBR0EiLCJmaWxlIjoiX211bC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9tdWxfbGltYiAsIF9zY2hvb2xib29rX211bCAsIF9rYXJhdHN1YmEgfSBmcm9tICcuLi9jb3JlJyA7XG5pbXBvcnQgeyBUSFJFU0hPTERfTVVMX1RPT00yMiB9IGZyb20gJy4uL2NvcmUnIDtcblxuLyoqXG4gKiB8QXwgPj0gfEJ8ID49IDEsIHxDfCA+PSB8QXwgKyB8QnwuXG4gKiBUT0RPIGNoZWNrIHdoZXRoZXIgdGhpcyBjb25kaXRpb24gaXMgYWN0dWFsbHkgbmVlZGVkXG4gKiAgICAgIGlmIGl0IGlzIHRoZW4gZml4IEBhdXJlb29tcy9qcy1pbnRlZ2VyXG4gKiAgICAgIG90aGVyd2lzZSBkb2N1bWVudCBwcm9wZXJseSBhbmQgZml4IGNvbmRpdGlvbnNcbiAqIFRPRE8gdXNlIHNjaG9vbGJvb2sgbXVsIGlmIG4gPSBPKGxvZyBtKVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBfbXVsICggciAsIGEgLCBhaSAsIGFqICwgYiAsIGJpICwgYmogLCBjICwgY2kgLCBjaiApIHtcblxuXHRjb25zdCBtID0gYWogLSBhaSA7XG5cdGNvbnN0IG4gPSBiaiAtIGJpIDtcblxuXHQvLyBUT0RPIHRoZW4gfEJ8ID0gMSBhbmQgY291bGQgYmUgZmFzdGVyXG5cdGlmICggbSA9PT0gMSApIHJldHVybiBfbXVsX2xpbWIoIHIgLCBhWzBdICwgYiAsIGJpICwgYmogLCBjICwgY2kgLCBjaiApIDtcblxuXHRpZiAoIG4gPT09IDEgKSByZXR1cm4gX211bF9saW1iKCByICwgYlswXSAsIGEgLCBhaSAsIGFqICwgYyAsIGNpICwgY2ogKSA7XG5cblx0Ly9pZiAoIG0gPT09IG4gKSB7XG5cblx0XHQvL2lmICggYSA9PT0gYiAmJiBhaSA9PT0gYmkgKSByZXR1cm4gX3NxciggciAsIGEgLCBhaSAsIGFqICwgYyAsIGNpICwgY2ogKSA7XG5cblx0XHQvL3JldHVybiBfbXVsX24oIHIgLCBhICwgYWkgLCBhaiAsIGIgLCBiaSAsIGJqICwgYyAsIGNpICwgY2ogKSA7XG5cblx0Ly99XG5cblx0aWYgKCBuIDwgVEhSRVNIT0xEX01VTF9UT09NMjIgKSB7XG5cdFx0cmV0dXJuIF9zY2hvb2xib29rX211bCggciAsIGEgLCBhaSAsIGFqICwgYiAsIGJpICwgYmogLCBjICwgY2kgLCBjaiApIDtcblx0fVxuXG5cdHJldHVybiBfa2FyYXRzdWJhKCByICwgYSAsIGFpICwgYWogLCBiICwgYmkgLCBiaiAsIGMgLCBjaSAsIGNqICkgO1xuXG5cbn1cbiJdfQ==